{"ast":null,"code":"var _jsxFileName = \"/home/ahmedt/ajisaq/jumm-mis/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { API, graphqlOperation } from \"aws-amplify\";\nimport * as queries from \"../src/graphql/queries\";\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\n\nconst index = props => __jsx(React.Fragment, null, console.log(props), __jsx(\"div\", {\n  className: \"header\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, __jsx(\"h1\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, \"Jimeta Ultra Modern Market Transaction Sumarry\")), __jsx(\"div\", {\n  className: \"main\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14\n  },\n  __self: this\n}, __jsx(\"div\", {\n  className: \"card\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n}, __jsx(\"div\", {\n  className: \"card-title\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, \"Today\"), __jsx(\"div\", {\n  className: \"card-body\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, __jsx(\"canvas\", {\n  id: \"today\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18\n  },\n  __self: this\n}))), __jsx(\"div\", {\n  className: \"card\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21\n  },\n  __self: this\n}, __jsx(\"div\", {\n  className: \"card-title\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22\n  },\n  __self: this\n}, \"Yesterday\"), __jsx(\"div\", {\n  className: \"card-body\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23\n  },\n  __self: this\n}, __jsx(\"canvas\", {\n  id: \"yesterday\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24\n  },\n  __self: this\n}))), __jsx(\"div\", {\n  className: \"card\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27\n  },\n  __self: this\n}, __jsx(\"div\", {\n  className: \"card-title\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 28\n  },\n  __self: this\n}, \"Last Seven (7) days\"), __jsx(\"div\", {\n  className: \"card-body\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 29\n  },\n  __self: this\n}, __jsx(\"canvas\", {\n  id: \"last-seven-days\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 30\n  },\n  __self: this\n}))), __jsx(\"div\", {\n  className: \"card\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 33\n  },\n  __self: this\n}, __jsx(\"div\", {\n  className: \"card-title\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34\n  },\n  __self: this\n}, \"Last Thirty (30) days\"), __jsx(\"div\", {\n  className: \"card-body\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35\n  },\n  __self: this\n}, __jsx(\"canvas\", {\n  id: \"last-thirty-days\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 36\n  },\n  __self: this\n})))));\n\nindex.getInitialProps = async function () {\n  let nextToken = null;\n  let results = [];\n  let errors;\n  let raw = {};\n  let tickets = {};\n\n  try {\n    do {\n      raw = await API.graphql(graphqlOperation(queries.listTickets, {\n        limit: 10000,\n        nextToken: nextToken\n      }));\n      nextToken = raw.data.listTickets.nextToken;\n      raw.data.listTickets.items.map(value => results.push(value));\n    } while (nextToken);\n  } catch (error) {\n    errors = error;\n  }\n\n  results.map(t => {\n    if (!tickets[t.deviceName]) {\n      tickets[t.deviceName] = [];\n    }\n\n    tickets[t.deviceName].push(t.fee);\n  });\n  return {\n    data: tickets,\n    errors: errors\n  };\n};\n\nexport default index;","map":{"version":3,"sources":["/home/ahmedt/ajisaq/jumm-mis/pages/index.js"],"names":["React","Component","API","graphqlOperation","queries","Header","Footer","index","props","console","log","getInitialProps","nextToken","results","errors","raw","tickets","graphql","listTickets","limit","data","items","map","value","push","error","t","deviceName","fee"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { API, graphqlOperation } from \"aws-amplify\";\nimport * as queries from \"../src/graphql/queries\";\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\n\nconst index = props => (\n  <>\n    {console.log(props)}\n    <div className=\"header\">\n      <h1>Jimeta Ultra Modern Market Transaction Sumarry</h1>\n    </div>\n\n    <div className=\"main\">\n      <div className=\"card\">\n        <div className=\"card-title\">Today</div>\n        <div className=\"card-body\">\n          <canvas id=\"today\"></canvas>\n        </div>\n      </div>\n      <div className=\"card\">\n        <div className=\"card-title\">Yesterday</div>\n        <div className=\"card-body\">\n          <canvas id=\"yesterday\"></canvas>\n        </div>\n      </div>\n      <div className=\"card\">\n        <div className=\"card-title\">Last Seven (7) days</div>\n        <div className=\"card-body\">\n          <canvas id=\"last-seven-days\"></canvas>\n        </div>\n      </div>\n      <div className=\"card\">\n        <div className=\"card-title\">Last Thirty (30) days</div>\n        <div className=\"card-body\">\n          <canvas id=\"last-thirty-days\"></canvas>\n        </div>\n      </div>\n    </div>\n  </>\n);\nindex.getInitialProps = async function() {\n  let nextToken = null;\n  let results = [];\n  let errors;\n  let raw = {};\n  let tickets = {};\n  try {\n    do {\n      raw = await API.graphql(\n        graphqlOperation(queries.listTickets, {\n          limit: 10000,\n          nextToken: nextToken\n        })\n      );\n      nextToken = raw.data.listTickets.nextToken;\n      raw.data.listTickets.items.map(value => results.push(value));\n    } while (nextToken);\n  } catch (error) {\n    errors = error;\n  }\n  results.map(t => {\n    if (!tickets[t.deviceName]) {\n      tickets[t.deviceName] = [];\n    }\n    tickets[t.deviceName].push(t.fee);\n  });\n  return { data: tickets, errors: errors };\n};\nexport default index;\n"]},"metadata":{},"sourceType":"module"}