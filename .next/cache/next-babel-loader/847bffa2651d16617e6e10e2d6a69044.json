{"ast":null,"code":"var _jsxFileName = \"/home/ahmedt/ajisaq/jumm-mis/pages/facility.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport Link from \"next/link\";\nimport { API, graphqlOperation } from \"aws-amplify\";\nimport * as queries from \"../src/graphql/queries\";\n\nconst facility = props => __jsx(React.Fragment, null, __jsx(\"div\", {\n  className: \"header\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8\n  },\n  __self: this\n}, __jsx(\"form\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, __jsx(\"div\", {\n  className: \"search-items\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, __jsx(Link, {\n  href: \"/addFacility\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, __jsx(\"a\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}, __jsx(\"input\", {\n  name: \"new-facility\",\n  type: \"button\",\n  value: \"New Facility\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13\n  },\n  __self: this\n}))), __jsx(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, \"Search for Facility: \\xA0\", __jsx(\"input\", {\n  name: \"search-term\",\n  type: \"text\",\n  placeholder: \"Facility ID\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18\n  },\n  __self: this\n}), \"\\xA0\", __jsx(\"input\", {\n  name: \"search\",\n  type: \"button\",\n  value: \"Search\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20\n  },\n  __self: this\n}))))), __jsx(\"div\", {\n  className: \"main\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26\n  },\n  __self: this\n}, __jsx(\"div\", {\n  className: \"card\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27\n  },\n  __self: this\n}, __jsx(\"div\", {\n  className: \"card-title\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 28\n  },\n  __self: this\n}, \"POS Stands\"), __jsx(\"div\", {\n  className: \"card-body\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 29\n  },\n  __self: this\n}, __jsx(\"div\", {\n  className: \"facility-summary\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 30\n  },\n  __self: this\n}, __jsx(Link, {\n  href: \"#\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31\n  },\n  __self: this\n}, __jsx(\"a\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 32\n  },\n  __self: this\n}, \"Unpaid (120) \")), \"|\", __jsx(Link, {\n  href: \"#\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35\n  },\n  __self: this\n}, __jsx(\"a\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 36\n  },\n  __self: this\n}, \" Total (1000) \")))))));\n\nfacility.getInitialProps = async function () {\n  let nextToken = null;\n  let results = [];\n  let errors;\n  let raw = {};\n  let facilities = {};\n\n  try {\n    do {\n      raw = await API.graphql(graphqlOperation(queries.listFacilitys, {\n        limit: 10000,\n        nextToken: nextToken\n      }));\n      nextToken = raw.data.listFacilitys.nextToken;\n      raw.data.listFacilitys.items.map(value => results.push(value));\n    } while (nextToken);\n  } catch (error) {\n    errors = error;\n  }\n\n  results.map(f => {\n    if (!facilities[f.facilityType]) {\n      facilities[f.facilityType] = [];\n      facilities[f.facilityType].push(f);\n    } else {\n      facilities[f.facilityType].push(f);\n    }\n  });\n  return {\n    data: facilities,\n    errors: errors\n  };\n};\n\nexport default facility;","map":{"version":3,"sources":["/home/ahmedt/ajisaq/jumm-mis/pages/facility.js"],"names":["React","Component","Link","API","graphqlOperation","queries","facility","props","getInitialProps","nextToken","results","errors","raw","facilities","graphql","listFacilitys","limit","data","items","map","value","push","error","f","facilityType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Link from \"next/link\";\nimport { API, graphqlOperation } from \"aws-amplify\";\nimport * as queries from \"../src/graphql/queries\";\n\nconst facility = props => (\n  <>\n    <div className=\"header\">\n      <form>\n        <div className=\"search-items\">\n          <Link href=\"/addFacility\">\n            <a>\n              <input name=\"new-facility\" type=\"button\" value=\"New Facility\" />\n            </a>\n          </Link>\n          <div>\n            Search for Facility: &nbsp;\n            <input name=\"search-term\" type=\"text\" placeholder=\"Facility ID\" />\n            &nbsp;\n            <input name=\"search\" type=\"button\" value=\"Search\" />\n          </div>\n        </div>\n      </form>\n    </div>\n\n    <div className=\"main\">\n      <div className=\"card\">\n        <div className=\"card-title\">POS Stands</div>\n        <div className=\"card-body\">\n          <div className=\"facility-summary\">\n            <Link href=\"#\">\n              <a>Unpaid (120) </a>\n            </Link>\n            |\n            <Link href=\"#\">\n              <a> Total (1000) </a>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </>\n);\nfacility.getInitialProps = async function() {\n  let nextToken = null;\n  let results = [];\n  let errors;\n  let raw = {};\n  let facilities = {};\n  try {\n    do {\n      raw = await API.graphql(\n        graphqlOperation(queries.listFacilitys, {\n          limit: 10000,\n          nextToken: nextToken\n        })\n      );\n      nextToken = raw.data.listFacilitys.nextToken;\n      raw.data.listFacilitys.items.map(value => results.push(value));\n    } while (nextToken);\n  } catch (error) {\n    errors = error;\n  }\n  results.map(f => {\n    if (!facilities[f.facilityType]) {\n      facilities[f.facilityType] = [];\n      facilities[f.facilityType].push(f);\n    } else {\n      facilities[f.facilityType].push(f);\n    }\n  });\n\n  return { data: facilities, errors: errors };\n};\nexport default facility;\n"]},"metadata":{},"sourceType":"module"}