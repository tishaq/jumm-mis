{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ahmedt/ajisaq/jumm-mis/pages/gate.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { API, graphqlOperation } from \"aws-amplify\";\nimport * as queries from \"../src/graphql/queries\";\n\nvar gate =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(gate, _Component);\n\n  function gate() {\n    _classCallCheck(this, gate);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(gate).apply(this, arguments));\n  }\n\n  _createClass(gate, [{\n    key: \"render\",\n    //static async getInitialProps() {}\n    value: function render() {\n      return __jsx(React.Fragment, null, console.log(this.props), __jsx(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 10\n        },\n        __self: this\n      }, __jsx(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 11\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"search-items\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, \"Select the range of dates to view summary Maximum of 30 days\"), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }, \"From:\", __jsx(\"input\", {\n        name: \"datepicker1\",\n        type: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }), \"To:\", __jsx(\"input\", {\n        name: \"datepicker2\",\n        type: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }), __jsx(\"input\", {\n        name: \"load\",\n        type: \"button\",\n        value: \"Load\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }))))), __jsx(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, \"Gate 1\"), __jsx(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, __jsx(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, __jsx(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, __jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, \"S/N\"), __jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Item Name\"), __jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"Fee\"), __jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Quantity\"), __jsx(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"Amount\"))), __jsx(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"1\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"Keke Napep\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"20\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"100\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"2000\")), __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"1\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Cars\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"20\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"100\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"2000\")), __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"1\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Truck/Lorry\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"20\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"100\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"2000\")), __jsx(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"1\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Canter\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"20\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"100\"), __jsx(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"2000\"))))))));\n    }\n  }]);\n\n  return gate;\n}(Component);\n\ngate.getInitialProps = function _callee() {\n  var nextToken, results, errors, raw, tickets;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          nextToken = null;\n          results = [];\n          raw = {};\n          tickets = [];\n          _context.prev = 4;\n\n        case 5:\n          _context.next = 7;\n          return _regeneratorRuntime.awrap(API.graphql(graphqlOperation(queries.listTickets, {\n            limit: 10000,\n            nextToken: nextToken\n          })));\n\n        case 7:\n          raw = _context.sent;\n          nextToken = raw.data.listTickets.nextToken;\n          raw.data.listTickets.items.map(function (value) {\n            return results.push(value);\n          });\n\n        case 10:\n          if (nextToken) {\n            _context.next = 5;\n            break;\n          }\n\n        case 11:\n          _context.next = 16;\n          break;\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](4);\n          errors = _context.t0;\n\n        case 16:\n          results.map(function (t) {\n            if (!tickets[t.deviceName]) {\n              tickets[t.deviceName] = {};\n              facilities[f.facilityType].push(f);\n            }\n\n            if (!tickets[t.deviceName][t.receiptType]) {\n              tickets[t.deviceName][t.receiptType] = {};\n            }\n\n            if (!tickets[t.deviceName][t.receiptType][t.itemType]) {\n              tickets[t.deviceName][t.receiptType][t.itemType] = [];\n            }\n\n            tickets[t.deviceName][t.receiptType][t.itemType].push(t.fee);\n          }); // const item = element.itemType;\n          //       if(!d[device]){\n          //           d[device] = {};\n          //       }\n          //       if(!d[device][type]){\n          //           d[device][type] = {};\n          //       }\n          //       if(!d[device][type][item]){\n          //           d[device][type][item] = [];\n          //       }\n          //       d[device][type][item].push(parseInt(element.fee));\n\n          return _context.abrupt(\"return\", {\n            data: tickets,\n            errors: errors\n          });\n\n        case 18:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[4, 13]]);\n};\n\nexport default gate;","map":{"version":3,"sources":["/home/ahmedt/ajisaq/jumm-mis/pages/gate.js"],"names":["React","Component","API","graphqlOperation","queries","gate","console","log","props","getInitialProps","nextToken","results","raw","tickets","graphql","listTickets","limit","data","items","map","value","push","errors","t","deviceName","facilities","f","facilityType","receiptType","itemType","fee"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { API, graphqlOperation } from \"aws-amplify\";\nimport * as queries from \"../src/graphql/queries\";\nclass gate extends Component {\n  //static async getInitialProps() {}\n  render() {\n    return (\n      <>\n        {console.log(this.props)}\n        <div className=\"header\">\n          <form>\n            <div className=\"search-items\">\n              <p>\n                Select the range of dates to view summary Maximum of 30 days\n              </p>\n\n              <div>\n                From:\n                <input name=\"datepicker1\" type=\"date\" />\n                To:\n                <input name=\"datepicker2\" type=\"date\" />\n                <input name=\"load\" type=\"button\" value=\"Load\" />\n              </div>\n            </div>\n          </form>\n        </div>\n\n        <div className=\"main\">\n          <div className=\"card\">\n            <div className=\"card-title\">Gate 1</div>\n            <div className=\"card-body\">\n              <table>\n                <thead>\n                  <tr>\n                    <th>S/N</th>\n                    <th>Item Name</th>\n                    <th>Fee</th>\n                    <th>Quantity</th>\n                    <th>Amount</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>1</td>\n                    <td>Keke Napep</td>\n                    <td>20</td>\n                    <td>100</td>\n                    <td>2000</td>\n                  </tr>\n                  <tr>\n                    <td>1</td>\n                    <td>Cars</td>\n                    <td>20</td>\n                    <td>100</td>\n                    <td>2000</td>\n                  </tr>\n                  <tr>\n                    <td>1</td>\n                    <td>Truck/Lorry</td>\n                    <td>20</td>\n                    <td>100</td>\n                    <td>2000</td>\n                  </tr>\n                  <tr>\n                    <td>1</td>\n                    <td>Canter</td>\n                    <td>20</td>\n                    <td>100</td>\n                    <td>2000</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\ngate.getInitialProps = async function() {\n  let nextToken = null;\n  let results = [];\n  let errors;\n  let raw = {};\n  let tickets = [];\n  try {\n    do {\n      raw = await API.graphql(\n        graphqlOperation(queries.listTickets, {\n          limit: 10000,\n          nextToken: nextToken\n        })\n      );\n      nextToken = raw.data.listTickets.nextToken;\n      raw.data.listTickets.items.map(value => results.push(value));\n    } while (nextToken);\n  } catch (error) {\n    errors = error;\n  }\n  results.map(t => {\n    if (!tickets[t.deviceName]) {\n      tickets[t.deviceName] = {};\n      facilities[f.facilityType].push(f);\n    }\n    if (!tickets[t.deviceName][t.receiptType]) {\n      tickets[t.deviceName][t.receiptType] = {};\n    }\n    if (!tickets[t.deviceName][t.receiptType][t.itemType]) {\n      tickets[t.deviceName][t.receiptType][t.itemType] = [];\n    }\n    tickets[t.deviceName][t.receiptType][t.itemType].push(t.fee);\n  });\n  // const item = element.itemType;\n  //       if(!d[device]){\n  //           d[device] = {};\n  //       }\n  //       if(!d[device][type]){\n  //           d[device][type] = {};\n  //       }\n  //       if(!d[device][type][item]){\n  //           d[device][type][item] = [];\n  //       }\n  //       d[device][type][item].push(parseInt(element.fee));\n\n  return { data: tickets, errors: errors };\n};\n\nexport default gate;\n"]},"metadata":{},"sourceType":"module"}